(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),c=t.n(u),o=t(4),l=t(2),i=function(e){var n=e.onClick;return r.a.createElement("button",{onClick:n},"delete")},m=function(e){var n=e.person,t=e.onDelete;return r.a.createElement("li",null,n.name," ",n.number," ",r.a.createElement(i,{onClick:t}))},f=function(e){var n=e.value,t=e.onChange;return r.a.createElement("div",null,"filter by name: ",r.a.createElement("input",{value:n,onChange:t}))},d=function(e){var n=e.onSubmit,t=e.nameValue,a=e.onNameChange,u=e.numValue,c=e.onNumChange;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:t,onChange:a})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:c})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},s=t(3),b=t.n(s),h="/api/persons",g=function(){return b.a.get(h).then((function(e){return e.data}))},p=function(e){return b.a.post(h,e).then((function(e){return e.data}))},v=function(e){return b.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},E=function(e,n){return b.a.put("".concat(h,"/").concat(e),n).then((function(e){return e.data}))},j=function(e){var n=e.message,t=e.isWarning;if(null==n)return null;var a={color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10};return t&&(a=Object(o.a)({},a,{color:"red"})),r.a.createElement("div",{style:a},n)},O=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],c=Object(a.useState)(null),i=Object(l.a)(c,2),s=i[0],b=i[1],h=Object(a.useState)(null),O=Object(l.a)(h,2),C=O[0],y=O[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),w=k[0],N=k[1],D=Object(a.useState)(""),V=Object(l.a)(D,2),T=V[0],W=V[1],x=Object(a.useState)(""),B=Object(l.a)(x,2),J=B[0],L=B[1];Object(a.useEffect)((function(){g().then((function(e){u(e)}))}),[]);var z=function(e,n){b(e),setTimeout((function(){b(null)}),n)},A=function(e,n){E(e.id,n).then((function(n){u(t.map((function(t){return t.id!==e.id?t:n}))),z("Successfully changed phone number for ".concat(w,"."),5e3)})).catch((function(n){var a,r;a="The entry for ".concat(e.name," was already deleted from the server."),r=5e3,y(a),setTimeout((function(){y(null)}),r),u(t.filter((function(n){return n.id!==e.id})))}))},I=t.filter((function(e){return e.name.toLowerCase().includes(J.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h1",null,"yeet"),r.a.createElement(j,{message:s,isWarning:!1}),r.a.createElement(j,{message:C,isWarning:!0}),r.a.createElement(f,{value:J,onChange:function(e){return L(e.target.value)}}),r.a.createElement("h2",null,"Add a New Entry"),r.a.createElement(d,{onSubmit:function(e){if(e.preventDefault(),t.map((function(e){return e.name})).includes(w)){if(window.confirm("".concat(w," already exists in the phonebook; replace the old number?"))){var n=t.find((function(e){return e.name===w})),a=Object(o.a)({},n,{number:T});A(n,a)}}else p({name:w,number:T}).then((function(e){u(t.concat(e))})),z("".concat(w," was added to the phonebook."),5e3);N(""),W("")},nameValue:w,onNameChange:function(e){return N(e.target.value)},numValue:T,onNumChange:function(e){return W(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,I.map((function(e){return r.a.createElement(m,{key:e.name,person:e,onDelete:function(){return function(e){window.confirm("Delete ".concat(e.name,"?"))&&v(e.id).then((function(n){u(t.filter((function(n){return n.id!==e.id})))}))}(e)}})}))))};c.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.8248d5dc.chunk.js.map